# Маскировка номеров банковских карт и счетов

**Простая и удобная библиотека для безопасной маскировки номеров банковских карт и счетов в Python.**

Этот проект поможет вам скрыть конфиденциальную информацию о банковских картах и счетах, оставив видимыми только те данные, которые необходимы.

---

## Что умеет программа

### Маскировка банковских карт
- **Скрывает средние цифры** номера карты, оставляя видимыми первые 6 и последние 4 цифры
- **Поддерживает все типы карт**: Visa, Mastercard, Maestro, American Express и другие
- **Работает с номерами** от 13 до 19 цифр

**Пример:** `1234567890123456` → `1234 56** **** 3456`

### Маскировка банковских счетов
- **Показывает только последние 4 цифры** номера счета
- **Скрывает все остальные** цифры за символами `**`

**Пример:** `73654108430135874305` → `**4305`

### Форматирование дат
- **Преобразует даты** из технического формата в читаемый вид
- **Поддерживает ISO формат** с микросекундами

**Пример:** `2024-03-11T02:26:18.671407` → `11.03.2024`

### Универсальная обработка
- **Автоматически определяет** тип данных (карта или счет)
- **Работает со строками** содержащими название типа и номер
- **Обрабатывает ошибки** с понятными сообщениями

---

## Быстрый старт

### Требования
- **Python 3.8+** (рекомендуется Python 3.9+)

### Установка

```bash
# 1. Скачайте проект
git clone <ссылка-на-репозиторий>
cd PPVijetBankCard

# 2. Создайте виртуальное окружение
python -m venv venv

# 3. Активируйте окружение
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# 4. Установите зависимости
pip install -r requirements.txt
```

### Демонстрация
```bash
# Запустите демо-программу
python main.py
```

---

## Примеры использования

### Базовые функции

```python
from src.masks import get_mask_card_number, get_mask_account

# Маскировка номера карты
card_number = 1234567890123456
masked_card = get_mask_card_number(card_number)
print(masked_card)  # Результат: 1234 56** **** 3456

# Маскировка номера счета
account_number = 123456789
masked_account = get_mask_account(account_number)
print(masked_account)  # Результат: **6789
```

### Умные функции

```python
from src.widget import mask_account_card, get_date

# Автоматическая маскировка карт и счетов
card_string = "Visa Platinum 7000792289606361"
masked_card = mask_account_card(card_string)
print(masked_card)  # Результат: Visa Platinum 7000 79** **** 6361

account_string = "Счет 73654108430135874305"
masked_account = mask_account_card(account_string)
print(masked_account)  # Результат: Счет **4305

# Форматирование дат
date_string = "2024-03-11T02:26:18.671407"
formatted_date = get_date(date_string)
print(formatted_date)  # Результат: 11.03.2024
```

---

## Руководство для разработчиков

### Инструменты качества кода

Проект использует современные инструменты для обеспечения качества:

- **Black** - автоматическое форматирование кода
- **Flake8** - проверка стиля и ошибок
- **isort** - сортировка импортов
- **mypy** - статическая проверка типов

### Команды для разработки

```bash
# Форматирование кода
black .

# Проверка стиля
flake8 .

# Сортировка импортов
isort .

# Проверка типов
mypy .
```

### Тестирование

Проект имеет комплексный набор тестов для проверки корректности работы всех функций:

```bash
# Запуск всех тестов
pytest

# Запуск тестов с выводом покрытия
pytest --cov=src

# Запуск конкретного тестового файла
pytest tests/test_masks.py

# Запуск тестов с генерацией HTML-отчета о покрытии
coverage run -m pytest
coverage html
```

#### Структура тестов

- `tests/test_masks.py` - базовые тесты функций маскировки карт и счетов
- `tests/test_processing.py` - тесты функций обработки транзакций
- `tests/test_widget.py` - тесты форматирования данных и дат

---

## Структура проекта

```
PPVijetBankCard/
├── src/
│   ├── __init__.py
│   ├── masks.py          # Базовые функции маскировки
│   ├── widget.py         # Расширенные функции
│   └── processing.py     # Функции обработки данных
├── tests/
│   ├── test_masks.py     # Базовые тесты функций маскировки
│   ├── test_processing.py # Тесты функций обработки
│   ├── test_widget.py    # Тесты форматирования данных
├── main.py               # Демонстрация всех функций
├── requirements.txt      # Зависимости
├── README.md             # Документация
```

---

## Вклад в проект

Мы приветствуем вклад сообщества в развитие проекта! Чтобы внести изменения:

1. Сделайте форк репозитория.
2. Создайте ветку для своей функции или исправления: `git checkout -b feature-name`.
3. Внесите изменения и напишите тесты.
4. Отправьте pull request на рассмотрение.

---

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле LICENSE.

---

## Часто задаваемые вопросы (FAQ)

### Как обрабатываются некорректные данные?
Функции возвращают понятные сообщения об ошибках, если переданы некорректные данные (например, неправильный номер карты).

### Как добавить поддержку нового типа карт?
Вы можете расширить функции в `src/masks.py` для обработки новых форматов карт.
