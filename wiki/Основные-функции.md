# Основные функции

В этом разделе описаны базовые функции библиотеки PPVijetBankCard для маскировки номеров банковских карт и счетов.

## Маскировка банковских карт

### `get_mask_card_number`

Функция маскирует номер карты, оставляя видимыми первые 6 и последние 4 цифры, а остальные заменяя на символы `*`.

```python
from src.masks import get_mask_card_number

# Использование функции
card_number = 1234567890123456
masked_card = get_mask_card_number(card_number)
print(masked_card)  # Результат: 1234 56** **** 3456
```

**Особенности:**

- Поддерживает номера карт длиной от 13 до 19 цифр
- Для 16-значных номеров используется специальный формат: `XXXX XX** **** XXXX`
- Для других длин номера маскируются по принципу: первые 6 цифр, затем звездочки, затем последние 4 цифры
- Принимает как целые числа, так и строки

**Примеры:**

```python
# 16-значная карта
get_mask_card_number("1234567890123456")
# Результат: 1234 56** **** 3456

# 19-значная карта
get_mask_card_number("1234567890123456789")
# Результат: 123456 **** **** 6789

# 13-значная карта
get_mask_card_number("1234567890123")
# Результат: 123456 *** 0123
```

## Маскировка банковских счетов

### `get_mask_account`

Функция маскирует номер счета, показывая только последние 4 цифры и заменяя остальные на символы `*`.

```python
from src.masks import get_mask_account

# Использование функции
account_number = 73654108430135874305
masked_account = get_mask_account(account_number)
print(masked_account)  # Результат: **4305
```

**Особенности:**

- Показывает только последние 4 цифры номера счета
- Все остальные цифры скрываются за символами `**`
- Принимает как целые числа, так и строки

**Примеры:**

```python
# Стандартный номер счета
get_mask_account("73654108430135874305")
# Результат: **4305

# Короткий номер счета
get_mask_account("123")
# Результат: **123
```

## Умная маскировка

### `mask_account_card`

Функция автоматически определяет тип данных (карта или счет) и применяет соответствующую маскировку.

```python
from src.widget import mask_account_card

# Использование функции
card_string = "Visa Platinum 7000792289606361"
masked_card = mask_account_card(card_string)
print(masked_card)  # Результат: Visa Platinum 7000 79** **** 6361

account_string = "Счет 73654108430135874305"
masked_account = mask_account_card(account_string)
print(masked_account)  # Результат: Счет **4305
```

**Особенности:**

- Автоматически определяет тип данных по ключевым словам
- Сохраняет название типа карты или "Счет" в результате
- Работает с различными форматами карт и счетов

**Примеры:**

```python
# Различные типы банковских карт
mask_account_card("Visa Platinum 7000792289606361")
# Результат: Visa Platinum 7000 79** **** 6361

mask_account_card("Maestro 7000792289606361")
# Результат: Maestro 7000 79** **** 6361

mask_account_card("Mastercard 5555555555554444")
# Результат: Mastercard 5555 55** **** 4444

# Банковские счета
mask_account_card("Счет 73654108430135874305")
# Результат: Счет **4305

mask_account_card("Счет 1234 5678 9012 3456")
# Результат: Счет **3456
```

## Форматирование дат

### `get_date`

Функция преобразует дату из ISO формата в формат ДД.ММ.ГГГГ.

```python
from src.widget import get_date

# Использование функции
date_string = "2024-03-11T02:26:18.671407"
formatted_date = get_date(date_string)
print(formatted_date)  # Результат: 11.03.2024
```

**Особенности:**

- Поддерживает ISO формат с микросекундами
- Преобразует дату в читаемый формат ДД.ММ.ГГГГ
- Обрабатывает ошибки с понятными сообщениями

**Примеры:**

```python
# Различные форматы дат
get_date("2024-03-11T02:26:18.671407")
# Результат: 11.03.2024

get_date("2023-12-25T15:30:45.123456")
# Результат: 25.12.2023

get_date("2024-01-01T00:00:00")
# Результат: 01.01.2024

get_date("2024-02-29T12:00:00.000000")
# Результат: 29.02.2024 (високосный год)
```
